/*
?§???????????????°???????????°

goto ?????????C/C++?¨????????????§???????????¨?????§???????????§????????????????????¨????????¶????????????????????????????????????????£?????????????????????° goto CHECK_NUM; ??¨?????????????????????????????¨???????????°??????????????§ CHECK_NUM: ??¨????????????????????????????§?????????????????????????????????£????????°?????????????????????????????????????????¨?????§????????????

?????????goto ???????????±??????????????????????????°?????????????????§?????±??????????????????????????????????????????????????¨?????¨?\¨?????????????????????

?¬????C++?¨???????????????°????????¨?????????????????????????????°????????????????????????????????????????????????goto ????????????????????§????£?????????????????????????

void call(int n){
int i = 1;
CHECK_NUM:
int x = i;
if ( x % 3 == 0 ){
cout << " " << i;
goto END_CHECK_NUM;
}
INCLUDE3:
if ( x % 10 == 3 ){
cout << " " << i;
goto END_CHECK_NUM;
}
x /= 10;
if ( x ) goto INCLUDE3;
END_CHECK_NUM:
if ( ++i <= n ) goto CHECK_NUM;

cout << endl;
}

*/
#include <iostream>
#include <math.h>

int main() {
	int n;
	std::cin >> n;
	for (int i = 1; i <= n; i++)
	{
		if (i % 3 == 0) {
			std::cout << " " << i;
			
		}
		else {
			for (int j = 0; j < 4; j++)
			{
				int d = pow(10, j);
				if ((i / d) % 10 == 3) {
					std::cout << " " << i;
					//std::cout << "(" << i << "/(10^" << j << ")) % 10 =" << (i / 10 * j) % 10 << std::endl;
					break;
				}
			}
			//else if ((i / 10) %10 == 3) std::cout << " " << i;
		}
	}
	std::cout << std::endl;
	return 0;
}