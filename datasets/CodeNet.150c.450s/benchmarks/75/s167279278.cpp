#include <cstdlib>
#include <stdio.h>
#include <fstream>
#include <iostream>
#include <utility>
using namespace std;

#define MAX 500001

int num;

/**
 * max?????????????§?????????????????????¢??°
 * 
 * ??? > ????????????????????????????????????????????´??????
 * ????????????????????????????????°????????\??????????????????
 * @param binaryHeap
 * @param topId
 */
void maxHeapify(int *binaryHeap, int topId) {
    int left = 2 * topId;
    int right = 2 * topId + 1;
    int largest = topId;
    
    //????????????????????§????????¨??????max??????????????????????????????
    if(left <= num) {
        if(binaryHeap[left] > binaryHeap[topId]) {
            largest = left;
        }
    }
    
    //????????????????????§????????¨??????max??????????????????????????????
    if(right <= num) {
        //?????¨???????????????????????§????????¨????????????????????¨???
        if(binaryHeap[right] > binaryHeap[largest]) {
            largest = right;
        }
    }
    
    //??????????????????????????????????????°????????\??????????????????
    if(largest != topId) {
        swap(binaryHeap[topId], binaryHeap[largest]);
        maxHeapify(binaryHeap, largest);
    }
}



int main(void) {
    //ifstream ifs;
    //ifs.open("input.txt", ifstream::in);
    
    int binaryHeap[MAX];
    
    
    cin >> num;
    for(int i = 1; i < num + 1; i++) {
        cin >> binaryHeap[i];
    }
    for(int i = num / 2; i > 0; i--) {
        maxHeapify(binaryHeap, i);
    }
    for(int i = 1; i < num + 1; i++) {
        printf(" %d", binaryHeap[i]);
    }
    cout << endl;
    return 0;
}