#include <iostream>
using namespace std;
int heap[500001];
int root;
int n,a,temp;
string s;
bool flag;

void maxHeapify(int i){
	int l=i*2+1;//?????????
	int r=i*2+2;//?????????
	int largest=i;
	//l<=n?????????????????????????????????????????????????¶?????????????????????????????????????
	if(l<=n&&heap[l]>heap[i])largest=l;
	if(r<=n&&heap[r]>heap[largest])largest=r;
	
	if(largest!=i){
		temp=heap[i];
		heap[i]=heap[largest];
		heap[largest]=temp;
		maxHeapify(largest);
	}
}

void buildMaxHeap(){
	for(int i=n/2;i>=0;i--){//n/2??¨????????????????????????????????????????????¢?´¢????????????
		maxHeapify(i);
	}
}

int main(){
	cin >> n;
	for(int i=0;i<n;i++){
		cin >>heap[i];
	}
	buildMaxHeap();
	for(int i=0;i<n;i++){
		cout << " "<<heap[i];
	}
	cout << endl;
}