/*????????????????§£?±??????????????????\??????????????????????????????????¨?3????????????????????????????????????
?????\???????????????????°´?????¢???????¨??????????????????????????????????????????§????????????????§?????????§?????????????????§???Debug Assertion Failed??¨????????????????????????
?????????????????????????????????????????\??????????????????????§£?±????????????§while???????????§????????¨????????????????????????AO??????presentation???error?????????????????????
?????????????????????????????\???????????????????????£?§£??§?????????
??£??´??????????????????????????????????????????????????????????????????????????????????????????????????§????????????????????????????§£?±?????????????????????¨??????????????????????????????
????????????????????????????????§????°??????????????????????????????????????????????????????????????????????????????´????????????????????§??????
*/
#include <iostream>
#include <stack>
#include <algorithm>
using namespace std;

int main()
{
	int sum = 0, i, x;
	stack<int>Pos;
	stack< pair<int, int> > S;
	char c;
	i = 0;
	while (cin >> c)
	{
		i++;
		sum = 0;
		if (c == '\\')
			Pos.push(i);
		else if (!Pos.empty() && c == '/')
		{
			x = Pos.top();
			Pos.pop();
			sum = i - x;
			while (!S.empty()&&S.top().first > x )
			{
				sum += S.top().second;
				S.pop();
			}
			S.push(make_pair(x, sum));
		}
	}
	sum = 0;
	int count = 0,Sum[20000];
	while (!S.empty())
	{
		Sum[count] = S.top().second;
		sum += S.top().second;
		count++;
		S.pop();
	} 
	cout << sum << endl<< count;
	for (i = count-1; i >= 0; i--)
	{
		cout << ' '<< Sum[i];
	}
	cout << endl;
}