#include <iostream>
using namespace std;
int main(){
	int h; //?????¢?????????
	while (1){
		cin >> h;
		if (h == 0){
			return 0;
		}
		//?????¢??????
		int board[10][5] = { -1 };
		for (int i = 0; i < h; i++){
			for (int j = 0; j < 5; j++){
				cin >> board[i][j];
			}
		}

		bool flg = 1; //??°???????????????
		int points = 0; //????¨????
		while (flg){
			flg = 0;

			//????????????????¶????&?¶??????????????????°?¨????
			for (int i = 0; i < h; i++){
				int start = -1; //??£?¶?????????????????§???????
				int end = -1; //??£?¶?????????????????????????

				for (int j = 1; j < 4; j++){
					//??°??????0??\??????3?????\?????£?¶????????????????????????¢???
					if (board[i][j] > 0){
						if (board[i][j - 1] == board[i][j] && board[i][j] == board[i][j + 1]){
							if (start < 0){
								start = j - 1;
							}
							end = j + 1;
							flg = 1;
						}
					}
				}
				
				if (flg){
					//?????°?¨????
					if (start >= 0 && end >= 0){
						points += (end - start + 1) * board[i][start];
						//????????????????????????????¶????(0?????????)
						for (int j = start; j <= end; j++){
							board[i][j] = 0;
						}
					}
				}
			}
			//?????????????????°??????
			if (flg){
				for (int i = 0; i < h - 1;i++){
					for (int j = 0; j < 5; j++){
						if (board[i+1][j] == 0){
							for (int x = i; x >= 0; x--){
								if (board[x][j] != 0){
									board[x + 1][j] = board[x][j];
									board[x][j] = 0;
								}
							}
						}
					}
				}
			}
		}
		cout << points << endl;
	}
	return 0;
}