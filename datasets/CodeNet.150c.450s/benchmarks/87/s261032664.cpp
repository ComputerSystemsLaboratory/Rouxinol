#include <iostream>
#include <vector>
using namespace std;

#define W 5
#define DELETE 0

int main(void){
  while(true){
    int H;
    cin >> H;
    if(H == 0){ break; }

    // ?????¢???????????????
    vector<vector<int> > puyo(H, vector<int>(W));
    for(int i = 0; i < H; i++)
      for(int j = 0; j < W; j++)
        cin >> puyo[i][j];

    // ??????????¶????????????§???????????°?????????
    int flag, ans = 0;
    do{
      /*
      printf("\nans: %d\n", ans);
      for(int i = 0; i < H; i++){
        for(int j = 0; j < W; j++){
          printf("[%d]", puyo[i][j]);
        }
        printf("\n");
      }
      */
      
      // ?????????????????°????????£?????????
      flag = false;

      for(int i = 0; i < H; i++){
        for(int j = 0; j < W; j++){
          if(puyo[i][j] == DELETE){ continue;}
          
          // ??????[i][j]?????????????????¨??????
          // ??????????????§????????????????±???????
          int seg;
          for(seg = 1; (j + seg < W) && (puyo[i][j] == puyo[i][j + seg]); seg++);

          // ??£?¶??????????3??\????????£???????¶????
          if(seg >= 3){
            for(int k = 0; k < seg; k++){
              // ?¶??????´??????????????°????????????????????????????????????
              flag = true;
              ans += puyo[i][j + k];
              puyo[i][j + k] = DELETE;
            }
          }
        }
      }

      // DELETE ????????£????????????????????????????????????
      for(int k = 0; k < H; k++){
        for(int i = 1; i < H; i++){
          for(int j = 0; j < W; j++){
            if(puyo[i][j] == DELETE){
              int tmp = puyo[i][j];
              puyo[i][j] = puyo[i - 1][j];
              puyo[i - 1][j] = tmp;
            }
          }
        }
      }
    }while(flag);

    // ???????????????
    cout << ans << endl;
  }
  
  return 0;
}