// chain_disappears_puzzle.cpp
// 2017/11/03


//#include "stdafx.h"
#include <iostream>

using namespace std;

//?¶???????????????°???????????????????????¢??° stone_erase
int stone_erase(int i, int *target) {
	if (i == 0) {
		if (target[i + 2] == target[i + 3] && target[i + 3] == target[i + 4]) { //1????????????5?????????????????????
			return 5; //?¶?????????????5?????§??????
		}
	}
	if (i == 0 || i == 1) {
		if (target[i + 2] == target[i + 3]) {
			return 4; //?¶?????????????4?????§??????
		}
	}
	return 3; //?????????????????£?????????????????´???????¶?????????????3?????§??????
}

int main()
{

	//??\???????????????H?????????
	int H; //??????
	cin >> H;

	int board[10][5]; //?????¢
	int point = 0;
	int erase_address[10][3]; //?¶??????´?????¨?¶???????????????°????¨???¶
	bool erase_flag = false;

	while (H != 0) { //H???0?????\??????????????´????????????

		//??\??????????????¢board?????\??????erase_address???????????????2????????\???)
		for (int i = 0; i < H; i++) {
			for (int j = 0; j < 5; j++) {
				cin >> board[i][j];
				if (j < 3) {
					erase_address[i][j] = 0;
				}
			}
		}
		
		//?????¢???????¶?????????¨?????§????????????????´¢????????¢??¢?´¢???
		do {
			erase_flag = false; //2???????????¢?´¢??§?????????
			for (int i = 0; i < H; i++) {
				for (int j = 0; j < 3; j++) {
					if (board[i][j] == -1) continue;
					if (board[i][j] == board[i][j + 1] && board[i][j + 1] == board[i][j + 2]) { //???????????????????¶???????3???????????§????????´???
						erase_flag = true;
						erase_address[i][j] = stone_erase(j, board[i]); //erase_address????¶???????????????°???????´????ex:3????¶??????????erase_address[i][j] = 3???
						point += (board[i][j] * erase_address[i][j]);
						break; //?¬???????????§????
					}
				}
			}
			
			//??????????????????
			for (int i = 0; i < H; i++) {
				for (int j = 0; j < 3; j++) {
					if (erase_address[i][j] != 0) {
						for (int k = i; k > 0; k--) {
							for (int l = j; l < j + erase_address[i][j]; l++) {
								board[k][l] = board[k - 1][l]; // 1?????????????????????????????£????????????????????????
							}
						}
						for (int k = j; k < j + erase_address[i][j]; k++) {
							board[0][k] = -1;
						}
					}
				}
			}

			/*
			for (int i = 0; i < H; i++) {
				for (int j = 0; j < 5; j++) {
					if (board[i][j] == -1) cout << board[i][j] << " ";
					else cout << board[i][j] << "  ";
				}
				cout << endl;
			}
			cout << endl;
			*/

			//erase_address???????????????
			for (int i = 0; i < 10; i++) { 
				for (int j = 0; j < 3; j++) {
					erase_address[i][j] = 0;
				}
			}

		} while (erase_flag != false); //erase_flag???false??????????????´???????¶??????????????????????????????´???????????¢?´¢???????????????do-while?????????????????????

		cout << point << endl; //??????????????????
		point = 0; //?????????????????????

		cin >> H; // ?¬?????????¢??????????????\???
	}
    return 0;
}