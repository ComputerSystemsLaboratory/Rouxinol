#include <iostream>
#include <vector>
#include <string>
using namespace std;

//???????????????????¢????

int IsStable(int N, vector<string>Sort_v1, vector<string>Sort_v2){

	for (int i = 0; i < N - 1; i++){
		for (int j = i + 1; j < N - 1; j++){
			for (int a = 0; a < N - 1; a++)
				for (int b = a+1; b < N - 1; b++){

					if (Sort_v1[i][1] == Sort_v1[j][1] &&
						Sort_v1[i] == Sort_v2[b] &&
						Sort_v1[j] == Sort_v2[a]){

						return 0;

					}
						
				}

		}

	}


	return 1;

}


//??????????????¨?????????????????????
void BubbleSort(int N, vector<string> Sort){
	string v;
	int flag = 1;
	
	//???????¢??????¨?????????
	vector<string> Sort_v1;
	for (int j = 0; j < N; j++){
		Sort_v1.push_back(Sort[j]);
	}

	
	while (flag){
		flag = 0;
		for (int j = N - 1; j>0; j--){
			if (Sort[j][1] < Sort[j - 1][1]){
				v = Sort[j];
				Sort[j] = Sort[j - 1];
				Sort[j - 1] = v;

				flag = 1;
			}
			
		}
	}//while?????????
	for (int k = 0; k < N; k++){
		cout << Sort[k];
		if (k != N - 1)cout << " ";
	}cout << endl;


	
	if (IsStable(N, Sort_v1, Sort) == 1)cout << "Stable" << endl;
	else if (IsStable(N, Sort_v1, Sort) == 0){ cout << "Not stable" << endl; }
	

}

//??????????????¨??????????????????
//???????????????
//???????????????????´???????????°?????????¢?´¢???????????????????????????????´???¨??????????????¢?????´?????????
void SelectionSort(int N, vector <string> Sort){

	int min;
	string v;

	//???????¢??????¨?????????
	vector<string> Sort_v1;
	for (int j = 0; j < N; j++){
		Sort_v1.push_back(Sort[j]);
	}


	for (int i = 0; i < N - 1; i++){
		min = i;
		for (int j = i + 1; j < N; j++){
			if (Sort[min][1] > Sort[j][1]){
				min = j;
			}

		}

		if (min != i){
			v = Sort[min];
			Sort[min] = Sort[i];
			Sort[i] = v;
		}

	}

	for (int k = 0; k < N; k++){
		cout << Sort[k];
		if (k != N - 1)cout << " ";
	}cout << endl;

	if (IsStable(N, Sort_v1, Sort) == 1)cout << "Stable" << endl;
	else if (IsStable(N, Sort_v1, Sort) == 0){ cout << "Not stable" << endl; }

}






int main(){

	int N;
	string sort;
	cin >> N;
	vector <string> Sort;
	
	for (int i = 0; i < N; i++){
		cin >> sort;
		Sort.push_back(sort);
	}

	
	BubbleSort(N, Sort);
	
	SelectionSort(N, Sort);

	return 0;
}