#include <iostream>

using namespace std;

int P[10010];
int root(int a);
int is_same_set(int a,int b);
void unite(int a,int b);

int main() {
	int N,Q;
	cin >> N >> Q;

	int com,x,y;
	for (int i=0;i<N;i++) P[i] = i;

	for (int i=0;i<Q;i++) {
		cin >> com;
		cin >> x >> y;
		if (com == 0) {
			unite(x,y);
		} else {
			cout << is_same_set(x,y) << endl;;
		}

	}
}

int root(int a) { // a ??? root(??£??¨???) ????±???????
	if (P[a] == a) return a; // a ??? root
	return (P[a] = root(P[a])); // a ????????? root ????±???????a ????????¨??????
}
int is_same_set(int a, int b) { // a ??¨ b ???????????°?????????????±???????????
	if(root(a) == root(b)) {
		return 1;
	} else {
		return 0;
	}
}
void unite(int a, int b) { // a ??¨ b ???????????°?????????????????¨??????
	P[root(a)] = root(b);
}