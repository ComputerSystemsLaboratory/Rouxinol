#if 0
accept?????????
40?????????????????£???

???????????¨??????????????¢?´¢???????????????????????????

???????????????????????????????????°????????????????????????
31-169584????????????????????????????????¨??£??????????????????????????£????????§????????????????????????????????????

#endif


#include <queue>
#include <iostream>
using namespace std;
int w,h;
const int dx[]={1,0,-1,0}, dy[]={0,-1,0,1};
char mat[100][100];

bool valid(int x,int y)
{
    return (x>=0)&&(x<w)&&(y>=0)&&(y<h)&&(mat[x][y]!='#');
}

void bfs(int x,int y) {
  int sum=1;
  queue<pair<int,int> >Q;// ??´??°????????????????????\????????????
  pair<int,int>p;//?????????
  p=make_pair(x,y);
  Q.push(p);
  while (! Q.empty()) {
    pair<int,int> cur = Q.front(); // ??????????´????????????????
    Q.pop();
    for (int i=0;i<4;i++) { //??????????????????????????????4?????????
      if (valid(cur.first+dx[i],cur.second+dy[i])) { //????????????????????????????????£??????
	Q.push(make_pair(cur.first+dx[i],cur.second+dy[i])); // dst ????¨???????????????????
	sum++;
	mat[cur.first+dx[i]][cur.second+dy[i]]='#';//2??????????????¢
      }
    }
    mat[cur.first][cur.second]='#';//2??????????????¢
  }
  cout<<sum<<endl;
}


int main() {
  int x,y;
  while(cin>>w>>h && w!=0){
    for(int j=0;j<h;++j){
        for(int i=0;i<w;++i){
            cin >> mat[i][j];
            if(mat[i][j]=='@'){//???????±???´???
                x=i,y=j;
            }
        }
    }
    bfs(x,y);
  }
}