#include<cstdio>
#define MAX_W 20
#define MAX_H 20

using namespace std;

char field[MAX_H][MAX_W];
int W, H, count;
int dx[4] = {1, 0, -1, 0}, dy[4] = {0, 1, 0, -1};

void dfs(int x, int y)
{
  for(int i = 0; i < 4; i++)
    {
      int nx, ny;
      nx = x + dx[i], ny = y + dy[i];
      if(nx >= 0 && nx < H && ny >= 0 && ny < W && field[nx][ny] == '.')
	{
	  field[nx][ny] = '#';
	  count++;
	  dfs(nx, ny);
	}
    }
  return;
}

void solve()
{
  int sx, sy;
  count = 0;
  //????§????????????¢???
  for(int i = 0; i < H; i++)
    for(int j = 0; j < W; j++)
      if(field[i][j] == '@')
      {
	sx = i; sy = j;
	break;
      }
  //???????????¨?????????'#'??????????????????
  field[sx][sy] = '#';
  count++;

  //??±???????????¢?´¢??§????§??????????????§??????§????????????????????°?????°??????
  dfs(sx, sy);
}

int main()
{
  while(1)
  {
    scanf("%d %d\n", &W, &H);
    if( W == 0 && H == 0) break;
    //??°?????????????????°field????????????
    for(int i = 0; i < MAX_H; i++)
      for(int j = 0; j < MAX_W; j++)
	field[i][j] = 'X';
    for(int i = 0; i < H; i++)
    {
      scanf("%s",field[i]);
    }
    solve();
    printf("%d\n", count);
  }
  return 0;
}