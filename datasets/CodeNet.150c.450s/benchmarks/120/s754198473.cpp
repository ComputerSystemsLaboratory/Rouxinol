//????????????????????????1????????¢??????????????¨??§???0?????°????????§???????????????(1?????°????????§????????????????????§????????????
#include <iostream>
using namespace std;

int h, w;
int a[10][10000];	//a[i][j] = i(>=0)???j(>=0)????????????????????¶???

int main(){
	int i, j, k;
	
	while( cin >> h >> w ){
		if( h == 0 && w == 0 )
			break;
		for( i = 0; i < h; i++ ){
			for( j = 0; j < w; j++ ){
				cin >> a[i][j];
			}
		}
		
		int ans = 0;
		for( i = 0; i < (1 << h); i++ ){
			//?????£????????????
			for( j = 0; j < h; j++ ){
				if( (i >> j) & 1 ){
					//j??????????????£????????????
					for( k = 0; k < w; k++ )
						a[j][k] = !a[j][k];
				}
			}
			
			//??????????????§?????°????¶????
			int sumCnt = 0;
			for( j = 0; j < w; j++ ){
				//j??????????????§?????°????±???????
				int cnt = 0;
				for( k = 0; k < h; k++ ){
					cnt += a[k][j];			//?£????????????´???????????°???????????????
				}
				cnt = max(h - cnt, cnt);	//j??????????????§?????°
				sumCnt += cnt;
			}
			
			//???????????´??°
			ans = max(ans, sumCnt);
			
			//????????????
			for( j = 0; j < h; j++ ){
				if( (i >> j) & 1 ){
					//j??????????????£????????????
					for( k = 0; k < w; k++ )
						a[j][k] = !a[j][k];
				}
			}
		}
		cout << ans << endl;
	}
	return 0;
}