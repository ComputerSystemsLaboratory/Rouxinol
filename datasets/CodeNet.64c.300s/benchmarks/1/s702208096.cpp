//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=ALDS1_6_B&lang=jp
#include <iostream>
#include <algorithm>
using namespace std;

/*
void swap(int A[],int i,int j){
  int buf = A[j];
  A[j] = A[i];
  A[i] = buf;
}
*/

int partition(int A[], int l, int r){
  const int x = A[r]; //????????¨?????????
  int i = l-1; //??§???????????????????????¨??????????????????-1
  for(int j = l; j < r; j++){
    //j?????????????????£???????????¨??????????????????????????¨????????????
     if (A[j] <= x){
       i += 1;
       //??´??????????????????????????¨???
       swap(A[i],A[j]);
     }
  }
  swap(A[i+1],A[r]);
  return i+1;
}


int main(){
  int n;
  cin >> n;
  int S[n];
  for(int i=0; i<n; i++){
    cin >> S[i];
  }//????????????????????????

  int mark = partition(S,0,n-1);
  for(int i=0; i<mark; i++){
    cout << S[i] << " ";
  }
  cout << "[" << S[mark] << "] ";
  for(int i=mark+1; i<n-1; i++){
    cout << S[i] << " ";
  }
  cout << S[n-1] << endl;
  return 0;
}